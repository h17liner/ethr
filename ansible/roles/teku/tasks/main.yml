---
- name: create group
  ansible.builtin.group:
    name: "{{ username }}"
    state: present

- name: create user
  ansible.builtin.user:
    name: "{{ username }}"
    group: "{{ username }}"
    create_home: false
    state: present

- name: install openjdk-jre
  apt:
    name: openjdk-{{openjdk}}-jre
    update_cache: yes
    state: present

- name: Create a directory if it does not exist
  ansible.builtin.file:
    path: /var/lib/teku
    state: directory
    recurse: yes
    owner: "{{ username }}"
    group: "{{ username }}"


- name: install binary
  include_tasks: update-binary.yml

- name: update configs
  include_tasks: update-configs.yml

- name: update services
  include_tasks: update-services.yml

  