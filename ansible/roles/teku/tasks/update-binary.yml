---
- name: download binary
  get_url:
    url: https://artifacts.consensys.net/public/teku/raw/names/teku.tar.gz/versions/{{ teku_version }}/teku-{{ teku_version }}.tar.gz
    dest: /tmp/teku.tar.gz

- name: unpack
  ansible.builtin.unarchive:
    src: /tmp/teku.tar.gz
    dest: /usr/local/
    remote_src: yes

- name: make current
  ansible.builtin.file:
    src: /usr/local/teku-{{ teku_version }}
    dest: /usr/local/teku
    state: link